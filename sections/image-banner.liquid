{{ 'section-image-banner.css' | asset_url | stylesheet_tag }}
{% comment %}
{%- if section.settings.adapt_height_first_image and section.settings.image != blank -%}
  {%- style -%}
  @media screen and (max-width: 749px) {
    #Banner-{{ section.id }}::before,
    #Banner-{{ section.id }} .banner__media::before,
    #Banner-{{ section.id }}:not(.banner--mobile-bottom) .banner__content::before {
      padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
      content: '';
      display: block;
    }
  }

  @media screen and (min-width: 750px) {
    #Banner-{{ section.id }}::before,
    #Banner-{{ section.id }} .banner__media::before {
      padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
      content: '';
      display: block;
    }
  }
  {%- endstyle -%}
{%- endif -%}


{%- style -%}
  #Banner-{{ section.id }}::after {
    opacity: {{ section.settings.image_overlay_opacity | divided_by: 100.0 }};
  }
{%- endstyle -%}

{% endcomment %}

<div id="Banner-{{ section.id }}" class="banner">
  {%- if section.settings.image != blank -%}
    <div class="banner-box">
      {% capture style %}
        object-position: {{ section.settings.focal }}% center;
      {% endcapture %}
      {% render 'image-responsive', image:section.settings.image, style:style %}
    </div>
  {%- endif -%}
</div>


{% schema %}
{
  "name": "t:sections.image-banner.name",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "range",
      "id": "focal",
      "label": "Focal point (mobile)",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 50
    }
  ]
}
{% endschema %}
